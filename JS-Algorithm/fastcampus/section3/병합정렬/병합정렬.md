# 병합정렬 (합병정렬)

가장 빠르게 수행되는 정렬 중 하나이다. 따라서 가장 많이 사용되는 정렬 방법이다.
전형적인 분할 정복 알고리즘이다.

## 분할 정복의 단점

- 일반적으로 재귀 함수를 사용한다는 점에서 함수 호출이 잦아지고, 이는 오버헤드로 이어진다.

## 병합 정렬의 동작 방식

- 병합 정렬은 분할 정복을 이용하는 가장 기본적인 정렬 알고리즘이다.
- 분할 후, 정복하고, **조합한다.**

## 병합 정렬의 동작 방식 - 정복

- 각 부분 배열은 이미 정렬된 상태로 본다.
- 각 부분 배열에 대하여 첫째 원소부터 시작하여 하나씩 확인한다.
- 총 원소의 개수가 n개일 때, O(n)의 시간 복잡도가 요구된다.
- 직관적으로 생각했을 때, 높이가 O(logN)이고, 너비가 O(N)인 정사각형과 유사하다.
- 따라서 최악의 경우 시간 복잡도는 O(NlogN)이다.
- 장점: 최악의 경우에도 O(NlogN)을 보장한다.
- 단점: 일반적인 경우, 정복과정에서 임시 배열이 필요하다.

<img src='../../imgs/병합정렬의시간복잡도.png'>

<br>

```javascript
function merge(arr, left, mid, right) {
  let i = left;
  let j = mid + 1;
  let k = left; // 결과 배열의 인덱스
  while (i <= mid && j <= right) {
    if (arr[i] <= arr[j]) sorted[k++] = arr[i++];
    else sorted[k++] = arr[j++];
  }
  // 왼쪽 배열에 대한 처리가 다 끝난 경우
  if (i > mid) {
    for (; j <= right; j++) sorted[k++] = arr[j];
  }

  // 오른쪽 배열에 대한 처리가 다 끝난 경우
  else {
    for (; i <= mid; i++) sorted[k++] = arr[i];
  }

  // 정렬된 배열 결과를 원본 배열에 반영하기
  for (let x = left; x <= right; x++) {
    arr[x] = sorted[x];
  }
}
```
